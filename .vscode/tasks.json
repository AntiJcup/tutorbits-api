{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "TracerProtoCompileCS",
            "command": "shared/Tracer/tools/protoc.exe",
            "type": "process",
            "args": [
                "--proto_path=${workspaceFolder}/shared/Tracer/proto",
                "--csharp_opt=file_extension=.g.cs",
                "--csharp_out=${workspaceFolder}/shared/Tracer/models/cs",
                "Tracer.proto",
            ]
        },
        {
            "label": "TracerProtoCompileTS",
            "command": "shared/Tracer/tools/protoc.exe",
            "type": "process",
            "args": [
                "--plugin=protoc-gen-ts=C:/Users/Jacob/AppData/Roaming/npm/node_modules/ts-protoc-gen/bin/protoc-gen-ts.cmd",
                "--proto_path=${workspaceFolder}/shared/Tracer/proto",
                "--js_out=import_style=commonjs,binary:${workspaceFolder}/shared/Tracer/models/ts",
                "--ts_out=${workspaceFolder}/shared/Tracer/models/ts",
                "Tracer.proto",
            ]
        },
        {
            "label": "buildAPI",
            "command": "dotnet",
            "type": "process",
            "args": [
                "build",
                "${workspaceFolder}/sites/api/tutorbits-api.csproj",
                "/property:GenerateFullPaths=true",
                "/consoleloggerparameters:NoSummary"
            ],
            "problemMatcher": "$msCompile"
        },
        {
            "label": "buildCLI",
            "command": "dotnet",
            "type": "process",
            "args": [
                "build",
                "${workspaceFolder}/cli/LocalTracer/LocalTracer.csproj",
                "/property:GenerateFullPaths=true",
                "/consoleloggerparameters:NoSummary"
            ],
            "problemMatcher": "$msCompile"
        },
        {
            "label": "build all",
            "command": "dotnet",
            "type": "process",
            "args": [
                "build",
                "${workspaceFolder}",
                "/property:GenerateFullPaths=true",
                "/consoleloggerparameters:NoSummary"
            ],
            "problemMatcher": "$msCompile"
        },
        {
            "label": "publish",
            "command": "dotnet",
            "type": "process",
            "args": [
                "publish",
                "${workspaceFolder}/sites/api/tutorbits-api.csproj",
                "/property:GenerateFullPaths=true",
                "/consoleloggerparameters:NoSummary"
            ],
            "problemMatcher": "$msCompile"
        },
        {
            "label": "watch",
            "command": "dotnet",
            "type": "process",
            "args": [
                "watch",
                "run",
                "${workspaceFolder}/sites/api/tutorbits-api.csproj",
                "/property:GenerateFullPaths=true",
                "/consoleloggerparameters:NoSummary"
            ],
            "problemMatcher": "$msCompile"
        },
        {
            "label": "Create SQL Migration",
            "type": "shell",
            "command": "dotnet ef migrations add ${input:MigrationName}",
            "problemMatcher": [],
            "options": {
                "cwd": "${workspaceFolder}/libs/storage/MicrosoftSQL"
            }
        },
        {
            "label": "Apply Latest SQL Migration",
            "type": "shell",
            "command": "dotnet ef database update",
            "problemMatcher": [],
            "options": {
                "cwd": "${workspaceFolder}/libs/storage/MicrosoftSQL"
            }
        }
    ],
    "inputs": [
        {
            "id": "MigrationName",
            "description": "MigrationName:",
            "default": "MigrationName",
            "type": "promptString"
        },
    ]
}